c
UserShip.last
UserShip.where(user_id: user_id, shard_name: shard_name)
shard_name
user_id
c
ShardUser.first.user_ships
ShardUser.last.user_ships
ShardUser.last
shard_user.user_ships
shard_user
UserShip.last
shard_user.user_ships
shard_user
user_ship
c
n
user.shard_users&.find_by(shard_name: shard.name)
user.shard_users
c
 ShardUser.create!(user_id: user.id, shard_id: shard.id, shard_name: shard.name)
n
shard.name
user.shard_users
user
c
user.shard_users.first.destroy
user.shard_users.first.shard
user.shard_users.first
user.shard_users.first.destroy
user.shard_users.first
user.shard_users.first.shard
user.shard_users.last.shard
user.shard_users.last
user.shard_users.first
c
n
commodity
commodit
n
user_ship.available_cargo_space
c
shard_user
 (shard_user.wallet_balance / facility.local_buy_price.to_f).floor
c
n
user_ship
usre_ship
facility
c
StarBitizenRun
cargo.id
star_bitizen_run = StarBitizenRun.find_by(user_ship_cargo_id: cargo.id)
star_bitizen_run = StarBitizenRun.find_by(user_ship_cargo_id = cargo.id)
cargo
cargo.destroy!
c
cargo
n
scu_to_sell
cargo.scu
c
cargo.scu
cargo
facility
c
cargo_to_sell.first.commodity
cargo_to_sell.first
cargo_to_sell.commodity_id
cargo_to_sell.commodity
cargo_to_sell
c
cargo_to_sell = user_ship.user_ship_cargos.includes(:commodity).where(commodities: { name: buyable_commodities })
user_ship.user_ship_cargos.includes(:commodity)
user_ship.user_ship_cargos
c
location
c
location
c
other_location
position2
position1
c
shard
shard.shard_name
c
user.shard_users.first
user.shard_users
user.shard_users.find_by(name: shard.name)
user.shard_user.last
user.user_ships.last
Shard.last
user.shard_users
user.user_ships.last
UserShip.last
user.shard_users.first
user.shard_users
c
user.shard_users.first.destroy
shard
user.shard_users.first
user.shard_users
c
user.shard_users.find_by(shard)
user.shard_users.shard
user.shard_users
c
n
shard = Shard.find_by_name(shard)
c
shard_params
@shard
@shard.update(shard_params)
@shard
shard
shard_params
params
c
params
username
c
Shard.first
Shard.find_by_name(shard)
shard
c
shard_user.wallet_balance
c
shard_user.currency
n
facility
n
user_ship
c
shard_name
self
self.shard
shard
c
self
shard
shar
c
UserShip.last
Shard.last
shard_user.user_ships.last
n
c
shard_user
n
shard
c
n
commodity
n
c
commodity_name
Commodity.find_by!(name: commodity_name)
c
user_ship.location.commodities.first
user_ship.location
user_ship
c
user_ship.location
user_ship.location.commodities.first
c
StarBitizenRun
ProductionFacility.last
user_ship.location.commodities.first
user_ship.location.commodities
user_ship.location
location
user_ship.user_ship_cargos.first
user_ship.cargo
commodity_name0
user_ship
n
user
n
c
planet.star
c
planet
planet.id_star_system
planet.id_star_syste
planet.star.first
planet.star
planet
self
self.stars
      self.class.stars[id_star_system]
self.class.stars
planet.star
planet
c
user_ship.location
c
destination
user_ship.location
c
user_ship
destination.star_system_name
 user_ship.update(location:destination.star_system_name)
c
user_ship
user_ship.location
user_ship.location.star_system_name
destination.star_system_name
n
destination
n
user_ship
n
c
parent_name
c
 location_data['name']
location_data['planet_name']
parent_name
c
parent_name
location_data['planet_name']
 location_data['name']
c
Location.where(classification:"city").destroy_all
Location.where(classification:"city")
c
location.parent
location.id_moon
location.classification
location
self
c
location.periapsis
planet_coords
parent_planet
c
tick
other_location
self
 PlanetPositionCalculator.calculate_position(other_location, tick)
PlanetPositionCalculator.calculate_position(self, tick)
c
from_location
start_tick
to_location
ship
c
duration
n
Tick.current
c
user_ship
destination
n
destination.star_system_name
